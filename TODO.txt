* consider using only foreground window for brightness calculation

* do auto calibration by reading how user changes brightness levels and
  doing some sort of interpolation

* persist settings
